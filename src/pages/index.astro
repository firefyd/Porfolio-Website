---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";

const allProjects = await getCollection("projects");
const featuredProjects = allProjects.slice(0, 3);
---

<BaseLayout title="Joshua Phillips">
	<div class="max-w-6xl mx-auto px-4 py-16">
		<section class="mb-24">
			<h1 class="text-5xl font-bold text-text-main mb-4">Joshua Phillips</h1>
			<p class="text-2xl text-accent mb-6">Data Scientist</p>
			<p class="text-xl text-text-main-secondary max-w-3xl mb-8">
				Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has
				been the industry's standard dummy text ever since the 1500s, when an unknown printer took a
				galley of type and scrambled it to make a type specimen book.
			</p>

			<div class="flex gap-4">
				<a
					href="/projects"
					class="bg-accent hover:bg-orange-700 text-white px-6 py-3 rounded transition font-medium focus-visible-ring"
				>
					My Work
				</a>

				<a
					href="/contact"
					class="border border-accent text-accent hover:bg-accent hover:text-bg-main px-6 py-3 rounded transition font-medium focus-visible-ring"
				>
					Contact
				</a>
			</div>
		</section>

		<section class="mb-24">
			<h2 class="text-3xl font-bold text-text-main mb-8">About Me</h2>
			<div class="border border-border-main p-8 rounded-lg">
				<p class="text-text-main-secondary text-lg leading-relaxed mb-4">
					It has survived not only five centuries, but also the leap into electronic typesetting,
					remaining essentially unchanged.
				</p>
				<p class="text-text-main-secondary text-lg leading-relaxed">
					It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum
					passages, and more recently with desktop publishing software like Aldus PageMaker
					including versions of Lorem Ipsum.
				</p>
			</div>
		</section>

		{
			featuredProjects.length > 0 && (
				<section>
					<div class="flex justify-between items-center mb-8">
						<h2 class="text-3xl font-bold text-text-main">Featured Projects</h2>
						<a href="/projects" class="text-accent hover:text-accent-hover transition font-medium">
							View All â†’
						</a>
					</div>

					<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
						{featuredProjects.map((project) => (
							<a
								href={`/projects/${project.slug}`}
								class="bg-bg-secondary p-6 rounded-lg hover:bg-border-main transition block"
							>
								<h3 class="text-xl font-semibold text-text-main mb-2">{project.data.title}</h3>
								<p class="text-accent text-sm mb-3">{project.data.subtitle}</p>
								<p class="text-text-main-secondary mb-4">{project.data.description}</p>
								<div class="flex flex-wrap gap-2">
									{project.data.tags.map((tag) => (
										<span class="text-xs bg-border-main text-text-secondary px-2 py-1 rounded">
											{tag}
										</span>
									))}
								</div>
							</a>
						))}
					</div>
				</section>
			)
		}
	</div>
</BaseLayout>
