---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";

const allProjects = await getCollection("projects");
const featuredProjects = allProjects.slice(0, 3);
---

<BaseLayout title="Joshua Phillips">
	<div class="max-w-6xl mx-auto px-4 py-16">
		<section class="mb-24">
			<h1 class="text-5xl font-bold text-text-main mb-4">Joshua Phillips</h1>
			<p class="text-2xl text-accent mb-6">Data Scientist</p>
			<p class="text-xl text-text-secondary max-w-3xl mb-8">
				

				I'm Josh, an early career data scientist who believes the true power of data is in what it is used for. <br>
				
				I am passionate about utilising data to solve real world problems, be that pushing healthcare forward or simply working out whos good at baseball. <br>

				Here you can check out my work!
			</p>

			<div class="flex gap-4">
				<a
					href="/projects"
					class="border border-accent text-accent hover:bg-accent hover:text-bg-main px-6 py-3 rounded transition font-medium focus-visible-ring btn-interactive"
				>
					My Work
				</a>

				<a
					href="/contact"
					class="border border-accent text-accent hover:bg-accent hover:text-bg-main px-6 py-3 rounded transition font-medium focus-visible-ring btn-interactive"
				>
					Contact
				</a>
			</div>
		</section>


		{
			featuredProjects.length > 0 && (
				<section>
					<div class="flex justify-between items-center mb-8">
						<h2 class="text-3xl font-bold text-text-main">Featured Projects</h2>
						<a href="/projects" class="text-accent hover:text-accent-hover transition font-medium">
							View All â†’
						</a>
					</div>

					<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
						{featuredProjects.map((project) => (
							<a
								href={`/projects/${project.slug}`}
								class="bg-bg-secondary p-6 rounded-lg shadow-card hover-lift-glow hover:bg-border-main transition block"
							>
								<h3 class="text-xl font-semibold text-text-main mb-2">{project.data.title}</h3>
								<p class="text-accent text-sm mb-3">{project.data.subtitle}</p>
								<p class="text-text-secondary mb-4">{project.data.description}</p>
								<div class="flex flex-wrap gap-2">
									{project.data.tags.map((tag) => (
										<span class="text-xs bg-border-main text-text-secondary px-2 py-1 rounded">
											{tag}
										</span>
									))}
								</div>
							</a>
						))}
					</div>
				</section>
			)
		}
	</div>
</BaseLayout>
