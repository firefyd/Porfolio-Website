import{aB as v,D as l,L as b,U as o,M as m,j as _,E as u,o as d,z as k,aC as g,F as w,k as y,t as E,ab as A,w as S,H as T,x as F,n as M,y as p}from"./template.CyUPUh6a.js";const R="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(R);v();class x{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#i=!0;constructor(t,a=!0){this.anchor=t,this.#i=a}#r=()=>{var t=l;if(this.#t.has(t)){var a=this.#t.get(t),e=this.#s.get(a);if(e)b(e),this.#a.delete(a);else{var f=this.#e.get(a);f&&(this.#s.set(a,f.effect),this.#e.delete(a),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),e=f.effect)}for(const[i,s]of this.#t){if(this.#t.delete(i),i===t)break;const r=this.#e.get(s);r&&(o(r.effect),this.#e.delete(s))}for(const[i,s]of this.#s){if(i===a||this.#a.has(i))continue;const r=()=>{if(Array.from(this.#t.values()).includes(i)){var h=document.createDocumentFragment();g(s,h),h.append(_()),this.#e.set(i,{effect:s,fragment:h})}else o(s);this.#a.delete(i),this.#s.delete(i)};this.#i||!e?(this.#a.add(i),m(s,r,!1)):r()}}};#f=t=>{this.#t.delete(t);const a=Array.from(this.#t.values());for(const[e,f]of this.#e)a.includes(e)||(o(f.effect),this.#e.delete(e))};ensure(t,a){var e=l,f=w();if(a&&!this.#s.has(t)&&!this.#e.has(t))if(f){var i=document.createDocumentFragment(),s=_();i.append(s),this.#e.set(t,{effect:u(()=>a(s)),fragment:i})}else this.#s.set(t,u(()=>a(this.anchor)));if(this.#t.set(e,t),f){for(const[r,n]of this.#s)r===t?e.skipped_effects.delete(n):e.skipped_effects.add(n);for(const[r,n]of this.#e)r===t?e.skipped_effects.delete(n.effect):e.skipped_effects.add(n.effect);e.oncommit(this.#r),e.ondiscard(this.#f)}else d&&(this.anchor=k),this.#r()}}function D(c,t,a=!1){d&&E();var e=new x(c),f=a?A:0;function i(s,r){if(d){const h=S(c)===T;if(s===h){var n=F();M(n),e.anchor=n,p(!1),e.ensure(s,r),p(!0);return}}e.ensure(s,r)}y(()=>{var s=!1;t((r,n=!0)=>{s=!0,i(n,r)}),s||i(!1,null)},f)}export{D as i};
